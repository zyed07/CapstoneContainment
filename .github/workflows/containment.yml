name: Containment Demo

on:
  push:
    branches:
      - main

jobs:
  containment:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Scan for malicious code
        run: |
          echo "ğŸ” Scanning code..."
          if grep -R "MALICIOUS_CODE" .; then
            echo "ğŸš¨ Malicious code detected!"
            exit 1
          else
            echo "âœ… No malicious code found."
          fi

      - name: Disable pipeline (simulate)
        if: failure()
        run: echo "â›” Disabling pipeline triggers + notifying repo owners..."

